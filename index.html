
<html>
  <head>
    <style> html, body, #map { height: 100%; width: 100%; padding: 0; margin: 0; } </style>
    <!-- Leaflet (JS/CSS) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <!-- Leaflet-KMZ -->
    <script src="https://unpkg.com/leaflet-kmz@latest/dist/leaflet-kmz.js"></script>
  </head>
  <body>
    <div style="width: 100vw; height: 100vh" id="map"></div>
    <!-- <script type="text/javascript">
      // Make basemap
      const map = new L.Map("map", {
        center: new L.latLng(10.74814547900117, 107.1609444238631),
        zoom: 5,
        maxZoom: 20,
      });

      const osm = new L.tileLayer(
        "http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",
        {
          maxZoom: 20,
          subdomains: ["mt0", "mt1", "mt2", "mt3"],
        }
      );
      map.addLayer(osm);

      // Create foreground tile layer with mask
      // var fg = L.tileLayer
      //   .wmsMask("https://api.meeymap.com/geoserver/meey_map/wms", {
      //     name: "meeymap",
      //     maxZoom: 23,
      //     minZoom: 4,
      //     layers: "meey_map:QHC_VN",
      //     format: "image/png",
      //     transparent: true,
      //     version: "2.0.0",
      //     // srs: "EPSG:4326",
      //     useCache: true,
      //     maskSize: 1024, //optional
      //   })
      //   .addTo(map);

      // // Add event handler to update mask position
      // map.on("mousemove", function (e) {
      //   fg.setCenter(e.containerPoint);
      // });

 /*     readTextFile("lyrs.json", function (text) {
        const lyrs = JSON.parse(text);
        if (!lyrs) return;
        const group = L.layerGroup(
          lyrs.map((index) => {
            return new L.tileLayer(`https://lyrs.meeymap.com/${index.name}/{z}/{x}/{y}.png`, {
              tms: 1,
              minZoom: 10,
              maxZoom: 25,
              opacity: 0.8,
maxNativeZoom:17,
            });
          })
        );
        map.addLayer(group);
      });

      function readTextFile(file, callback) {
        var rawFile = new XMLHttpRequest();
        rawFile.overrideMimeType("application/json");
        rawFile.open("GET", file, true);
        rawFile.onreadystatechange = function () {
          if (rawFile.readyState === 4 && rawFile.status == "200") {
            callback(rawFile.responseText);
          }
        };
        rawFile.send(null);
      }

    */
    var src = 'doc.kml';
    var kmlLayer = new google.maps.KmlLayer(src, {
    suppressInfoWindows: true,
    preserveViewport: false,
    map: map
  });
    </script> -->

    <script>
      var map = L.map('map', {
        preferCanvas: true // recommended when loading large layers.
      });
      map.setView(new L.LatLng(10.74814547900117, 107.1609444238631), 5);
    
      const osm = new L.tileLayer(
        "http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",
        {
          maxZoom: 20,
          subdomains: ["mt0", "mt1", "mt2", "mt3"],
        }
      );
      map.addLayer(osm);
    
      // Instantiate KMZ layer (async)
      var kmz = L.kmzLayer().addTo(map);
    
      kmz.on('load', function(e) {
        control.addOverlay(e.layer, e.name);
        //e.layer.addTo(map);
      });
    
      // Add remote KMZ files as layers (NB if they are 3rd-party servers, they MUST have CORS enabled)
      kmz.load('./HaNoi_DongDa_2030.kmz');
      //kmz.load('./RanhGioiHanhChinh.kmz');
      
      //var control = L.control.layers(null, null, { collapsed:false }).addTo(map);

    </script>
  </body>
</html>
